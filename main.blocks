<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</variable><variable id="Pe=!NybqHc(Ar1c*tvCU">CONFIGURATION_MODE</variable><variable id="@EUTKs95W|(v+yg=*6}:">flipTime</variable><variable id="@P!!s48U@_/uR+[Zmjwa">OUTPUT_REGISTER</variable><variable id="b6Met$$wxyZ6FLEV`i$O">currentMillis</variable><variable id="B9UhwLI%/AUJ:3xoO[}6">previousMillis</variable><variable id="$K8`#m|H@:DmE]/xtf|5">interval</variable><variable id="19!X1W543sUwbg(|*,TD">led1_state</variable><variable id="lcB:l@ZjWe`;5-](QHDE">led2_state</variable><variable id=".l}iY=!gyHH:ykTcVJ[U">ledOnTime</variable><variable id="w}TFxugy.UZjf((R;{%{">delayTime</variable></variables><block type="pxt-on-start" id=":r2#U3^.rDyArw[%nEoz" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id=".d30u*Sn,sc]X?Xg[RP0"><field name="VAR" id="w}TFxugy.UZjf((R;{%{">delayTime</field><comment pinned="false" h="80" w="160">Measuring delay of transmissions.</comment><value name="VALUE"><shadow type="math_number" id="-$Sv8c^/IP`!3Y4Byd6m"><field name="NUM">0</field></shadow></value><next><block type="setI2CPins" id="+De]pT?bEyyl+v.ea!%E"><field name="sdaPin">DigitalPin.P2</field><field name="sclPin">DigitalPin.P1</field><next><block type="variables_set" id="3kU5xA$O$B4a{4L]h$iu"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field><comment pinned="false" h="80" w="160">Address of PCA9557 chip</comment><value name="VALUE"><shadow type="math_number" id="iCBw49y]_sE+2qm)eP1t"><field name="NUM">24</field></shadow></value><next><block type="variables_set" id=".xgas1G]+K:N.xDzC66@"><field name="VAR" id="Pe=!NybqHc(Ar1c*tvCU">CONFIGURATION_MODE</field><comment pinned="false" h="80" w="160">Configuration register: which mode is pins operated at?</comment><value name="VALUE"><shadow type="math_number" id="+u*~Kr0?8LRf!-P5JIxF"><field name="NUM">3</field></shadow></value><next><block type="variables_set" id="G?1YO9/).WrfeBos!l7I"><field name="VAR" id="@P!!s48U@_/uR+[Zmjwa">OUTPUT_REGISTER</field><value name="VALUE"><shadow type="math_number" id="|@~._h%F982]t?)Mn;Z/"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="t{INWL82fn76l%Q`y:R!"><field name="VAR" id="$K8`#m|H@:DmE]/xtf|5">interval</field><comment pinned="false" h="80" w="160">constants won't change:
interval at which to blink (milliseconds)</comment><value name="VALUE"><shadow type="math_number" id="@ZW:$UK6:b8-{%V$V!,Y"><field name="NUM">500</field></shadow></value><next><block type="variables_set" id="HG/(Pz3+/oFdNdq1`@1X"><field name="VAR" id="19!X1W543sUwbg(|*,TD">led1_state</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="}.6K26:P%zb$M0|aYJ7b"><field name="BOOL">TRUE</field></block></value><next><block type="serial_writeline" id="4SNeq#6P$x1R/4Zb*/IH"><comment pinned="false" h="80" w="160">On start</comment><value name="text"><shadow type="text" id="0d4JAum(PUKzfIiC#@Hh"><field name="TEXT">Starting sending I2C</field></shadow></value><next><block type="function_call" id="*6|mH3kLc6{f@wP3_H=n"><mutation name="configureOutput" functionid="JImm)7Y!X:Y4d4Iif-QX"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="6?l[YZ~=gdQL.P;3aiX*" x="530" y="20"><comment pinned="false" h="80" w="160">Loop</comment><statement name="HANDLER"><block type="variables_set" id="MUD^n0SkI`|UuSbGFx}m"><field name="VAR" id="b6Met$$wxyZ6FLEV`i$O">currentMillis</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="Fh$:`Vfr`dyvd(Ad;@C0"></block></value><next><block type="controls_if" id="En54MuGnE2A,v7Wi5L*H"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{kV``+kD5%py/SwG}tNh"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="1JCzS~~C:V6:[)}JiNo`"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="P2b;O4e=75MdM=![:AY/"><field name="VAR" id="b6Met$$wxyZ6FLEV`i$O">currentMillis</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="z-k_a)7x.4X/?RVr`Z%I"><field name="VAR" id="B9UhwLI%/AUJ:3xoO[}6">previousMillis</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="suaCw5z-i)h;x(,_h(*_"><field name="VAR" id="$K8`#m|H@:DmE]/xtf|5">interval</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="J8rZqdOO:He2:p_h_=Tw"><field name="VAR" id="B9UhwLI%/AUJ:3xoO[}6">previousMillis</field><comment pinned="false" h="80" w="160">save the last time you blinked the LED</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="=td|,BtF_a$`?FpAS[;t"><field name="VAR" id="b6Met$$wxyZ6FLEV`i$O">currentMillis</field></block></value><next><block type="variables_set" id="]]X]K3YJZLdhpBS!Rpao"><field name="VAR" id="19!X1W543sUwbg(|*,TD">led1_state</field><comment pinned="false" h="80" w="160">Flip led states</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="n/(uuH=c_tnkRRfBwS^E"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="lZf+!;E.L]i-udE}Ii/6"><field name="VAR" id="19!X1W543sUwbg(|*,TD">led1_state</field></block></value></block></value><next><block type="variables_set" id="9`CD./Cm41n%U##_o9Vz"><field name="VAR" id="lcB:l@ZjWe`;5-](QHDE">led2_state</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="SR![9a-bnPt=]=3C+03p"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="wn{w6mzP0{[WQhqTHB|4"><field name="VAR" id="lcB:l@ZjWe`;5-](QHDE">led2_state</field></block></value></block></value><next><block type="function_call" id="i~bBm2NL#X{Z[`lt=uzf"><mutation name="turnOffLEDs" functionid=".Tuzc(Svuoqn?[MTK{Vk"></mutation><comment pinned="false" h="80" w="160">Turn off LEDs connected to IO2 and IO5</comment><next><block type="controls_if" id="Nuxz%|_%2/r2`*.;DVRm"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="2/_Zq~vOavG(@*j:)ynF"><field name="VAR" id="19!X1W543sUwbg(|*,TD">led1_state</field></block></value><statement name="ELSE"><block type="variables_set" id="49gg3?^C+:LDZmA}=w|T"><field name="VAR" id=".l}iY=!gyHH:ykTcVJ[U">ledOnTime</field><comment pinned="false" h="80" w="160">Record the time when LED turns ON</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id=")?o:v%V~ZNjJmOaBAvJy"></block></value><next><block type="function_call" id="v)0]VT~#AdA0qfW@{RZ!"><mutation name="turnOnLEDs" functionid="5;jYGy?a!XE+2f,U(dJ9"></mutation><comment pinned="false" h="80" w="160">Turn on LEDs connected to IO2 and IO5</comment></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="egxySo!u;[tog6J_q[=f" x="1348" y="20"><mutation name="configureOutput" functionid="JImm)7Y!X:Y4d4Iif-QX"></mutation><field name="function_name">configureOutput</field><comment pinned="false" h="80" w="160">will store last time LED was updated.</comment><data>0</data><statement name="STACK"><block type="i2c_writenumber" id="`pw:v},zRr~%g{gzgBDf"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="ut(8dDhQ5XWyB6?kLEPB"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="[A9u2qZMa*/SPxl(/6hT"><field name="VAR" id="Pe=!NybqHc(Ar1c*tvCU">CONFIGURATION_MODE</field></block></value><value name="repeat"><shadow type="logic_boolean" id=")9WO0O82N:]Mve$hEP8:"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="C~/ryW;c;_:Lo8oQzk~u"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 219. Set IO2 and IO5 as outputs, all other pins as inputs. 0=output, 1=input</comment><value name="address"><block type="variables_get" id="/?,+Dao,WErufJR@hd_T"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="Z6vJuh~pr}a,EPp#dQY,"><field name="NUM">219</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="k9za9GPu;9$*$P}(G`r#"><field name="BOOL">TRUE</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="^7s-]_49;uz[w,|~9(/p" x="1746" y="20"><mutation name="turnOnLEDs" functionid="5;jYGy?a!XE+2f,U(dJ9"></mutation><field name="function_name">turnOnLEDs</field><statement name="STACK"><block type="variables_set" id="X6hzpWNGI4;}8[hHhK)?"><field name="VAR" id="@EUTKs95W|(v+yg=*6}:">flipTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time_micros" id="M)i@1fMiC3u/1qp?4Fbt"></block></value><next><block type="i2c_writenumber" id=".:4mAg5RbAO(6FW9=.vr"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="ZEDQs[]Ji)Sg|PvxyMr:"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="YRUZ)bzU!E~_n?)uC;op"><field name="VAR" id="@P!!s48U@_/uR+[Zmjwa">OUTPUT_REGISTER</field></block></value><value name="repeat"><shadow type="logic_boolean" id="11#q@W%2t)(H`9PF)Ct-"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="J}fQ{7}0Opz#9?x5DM?d"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 4. Set IO2 high and IO5 low, all other pins unchanged, (io7 io6 io5 io4 io3 io2 io1 io0)</comment><value name="address"><block type="variables_get" id="A[+YtLrCw`@biUQ!C0Q!"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="w:U~CO,xM{LpqnWw,Oa-"><field name="NUM">4</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="/RWm2xHk!2yJYvU3bZ3t"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="dugVaeOW:L=t?@P}:x0U" x="20" y="745"><mutation name="turnOffLEDs" functionid=".Tuzc(Svuoqn?[MTK{Vk"></mutation><field name="function_name">turnOffLEDs</field><statement name="STACK"><block type="variables_set" id="6}P$-SO2_kPtJ8Rs=:yp"><field name="VAR" id="@EUTKs95W|(v+yg=*6}:">flipTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time_micros" id="576`?U!Os[sn1$ke$MzJ"></block></value><next><block type="i2c_writenumber" id="5#=OQ].W;C}EZi_/$rHh"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="t)waWp,qfw/tigdF.zgc"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="x6XR8?p97wrnH2{k/o,D"><field name="VAR" id="@P!!s48U@_/uR+[Zmjwa">OUTPUT_REGISTER</field></block></value><value name="repeat"><shadow type="logic_boolean" id="Yiup])-*b1tGTu{FKWk]"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="^q1~]tr=WKRa%hvBdTk:"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 32. Set IO2 low and IO5 high, all other pins unchanged, (io7 io6 io5 io4 io3 io2 io1 io0)</comment><value name="address"><block type="variables_get" id="`sgrYq`ZHce1u.DcwEOy"><field name="VAR" id="LaNC5)FEvgR5$_1f|5$)">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="KO;U+n/(xegk*2f+Au1n"><field name="NUM">32</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="=U~AvA227eug^~!Cf4y["><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></statement></block></xml>