<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="oK`/PI3KNMQ__t4M1Me[">PCA9557_ADDR</variable><variable id="[6Kg=kW,XUE.)f5N3Isu">CONFIGURATION_MODE</variable><variable id="fg3w42Vr1zT=MVMeJ7KK">flipTime</variable><variable id="4,2MS98QQL[h$]~kxxA^">OUTPUT_REGISTER</variable><variable id="V-)l(-A-r8mMn[J`.O:,">currentMillis</variable><variable id="}hKF|U@Q$.mw;.z(c*S*">previousMillis</variable><variable id="l,*.a|mhYZ@yRI[2,axA">interval</variable><variable id="7qRR*UrX:vEa/JBG/^.Z">led1_state</variable><variable id="/]LrPN.iMkx4|Ct303U,">led2_state</variable><variable id="Jx,Wn5#dNy.;(LqoT1L^">ledOnTime</variable><variable id="]DM(^Ia;ra4M60lp`4Ek">delayTime</variable></variables><comment id="@87g^)(GOO8FykEY@Lf}" minimized="true" data="1" x="0" y="677" h="120" w="340">will store time when LED turned ON</comment><comment id="*E@P(B=iZYSol-LA7gab" minimized="true" data="0" x="385" y="677" h="120" w="370">will store last time LED was updated.</comment><block type="pxt-on-start" id="wK1~Ht^g_*w5{ip!X?Ts" x="0" y="0"><statement name="HANDLER"><block type="setI2CPins" id="3h8TRAv2|OU3T6y,t(Mr"><field name="sdaPin">DigitalPin.P2</field><field name="sclPin">DigitalPin.P1</field><next><block type="variables_set" id="0P_iJP^W)5QrQF[7Pq%C"><field name="VAR" id="]DM(^Ia;ra4M60lp`4Ek">delayTime</field><comment pinned="false" h="80" w="160">Measuring delay of transmissions.</comment><value name="VALUE"><shadow type="math_number" id="W_x*f=h=onu~?_Iy]3Ri"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="5:8M^r0X!{wjZETPb=C?"><field name="VAR" id="oK`/PI3KNMQ__t4M1Me[">PCA9557_ADDR</field><comment pinned="false" h="80" w="160">Address of PCA9557 chip</comment><value name="VALUE"><shadow type="math_number" id="^t5)=|FqGmx,242p8BBP"><field name="NUM">24</field></shadow></value><next><block type="variables_set" id=".[+#Hr=`LtYFa`Y]0npK"><field name="VAR" id="[6Kg=kW,XUE.)f5N3Isu">CONFIGURATION_MODE</field><comment pinned="false" h="80" w="160">Configuration register: which mode is pins operated at?</comment><value name="VALUE"><shadow type="math_number" id="3y1thkupmmUv1iu?jJ4G"><field name="NUM">3</field></shadow></value><next><block type="variables_set" id="L;N;_XW=(`/RI_9nK(w+"><field name="VAR" id="4,2MS98QQL[h$]~kxxA^">OUTPUT_REGISTER</field><value name="VALUE"><shadow type="math_number" id="F8%Tyui2KTbU!F@~2{??"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="1A+XGA}0@)VMN1ZCp.,l"><field name="VAR" id="l,*.a|mhYZ@yRI[2,axA">interval</field><comment pinned="false" h="80" w="160">constants won't change:
interval at which to blink (milliseconds)</comment><value name="VALUE"><shadow type="math_number" id="MGDA+=v%d3~-ZOjFaO;d"><field name="NUM">500</field></shadow></value><next><block type="variables_set" id="9W0!DaovE,8#m).?2[7`"><field name="VAR" id="7qRR*UrX:vEa/JBG/^.Z">led1_state</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="wpi/479DsEO{xYP8wqD:"><field name="BOOL">TRUE</field></block></value><next><block type="serial_writeline" id="iR5ex-M+ckW}GEQDC*w#"><comment pinned="false" h="80" w="160">On start</comment><value name="text"><shadow type="text" id="K{d:Uwg(J,`/BY.kDp,J"><field name="TEXT">Starting sending I2C</field></shadow></value><next><block type="function_call" id="hR0.;@{Q76r4g.=ll#mA"><mutation name="configureOutput" functionid="RCob8#_h?Ap!.+7A2/9p"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="=NzA9[CFMP4aOtN1qs@G" x="510" y="0"><comment pinned="false" h="80" w="160">Loop</comment><statement name="HANDLER"><block type="variables_set" id="0!AjH1CdH%u%b0zevqJY"><field name="VAR" id="V-)l(-A-r8mMn[J`.O:,">currentMillis</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="UJGTs5;Xvgk_;zDtz5-5"></block></value><next><block type="controls_if" id="0xX,CC^0?^^*CUGAL+F@"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="%e(a~*qRGc@F=PC2[K[I"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="^)F@]~-f-eK?fem|}9m("><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="pgVuae;acL;L_%Y3o.,L"><field name="VAR" id="V-)l(-A-r8mMn[J`.O:,">currentMillis</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="k[N+ti1.Cm(x]EI2,#$y"><field name="VAR" id="}hKF|U@Q$.mw;.z(c*S*">previousMillis</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="#~~1jgjN6t;I(V$IRI.["><field name="VAR" id="l,*.a|mhYZ@yRI[2,axA">interval</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="V7oDzl]evHwiG`d}4L2-"><field name="VAR" id="}hKF|U@Q$.mw;.z(c*S*">previousMillis</field><comment pinned="false" h="80" w="160">save the last time you blinked the LED</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=".QIj:y6ad2mcZ-q5i_fn"><field name="VAR" id="V-)l(-A-r8mMn[J`.O:,">currentMillis</field></block></value><next><block type="variables_set" id="k}QE2N!=Fa^%?[-j$3aW"><field name="VAR" id="7qRR*UrX:vEa/JBG/^.Z">led1_state</field><comment pinned="false" h="80" w="160">Flip led states</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="3t1@TJLfo_Wx{Ox^x8c["><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=")czcY~ZbID*{w%e=0GyL"><field name="VAR" id="7qRR*UrX:vEa/JBG/^.Z">led1_state</field></block></value></block></value><next><block type="variables_set" id="Sm[H!fHggxMBO`2qIx:P"><field name="VAR" id="/]LrPN.iMkx4|Ct303U,">led2_state</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="J[Te!|UW8ynT_5h0ps4Z"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="+WU~9AShYS[ZAZn9~fGa"><field name="VAR" id="/]LrPN.iMkx4|Ct303U,">led2_state</field></block></value></block></value><next><block type="controls_if" id="esciQ?Vk~;^cTQ~8[f=g"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">turnOffLEDs(); // Turn off LEDs connected to IO2 and IO5</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="dWJF,~K_j9qBmrRdC%D}"><field name="VAR" id="7qRR*UrX:vEa/JBG/^.Z">led1_state</field></block></value><statement name="ELSE"><block type="variables_set" id="%U[%Obz?CV(N!8bc3[]2"><field name="VAR" id="Jx,Wn5#dNy.;(LqoT1L^">ledOnTime</field><comment pinned="false" h="80" w="160">Record the time when LED turns ON</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="SD.t9p:?ql!m*pmNpk0:"></block></value><next><block type="function_call" id="$6j.L^%3z7{6.VVf)D2A"><mutation name="turnOnLEDs" functionid="?#Zp@H[*[.]rII=,:hRs"></mutation><comment pinned="false" h="80" w="160">Turn on LEDs connected to IO2 and IO5</comment></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="(?$|5eUmUhFtPjn8IF04" x="1328" y="0"><mutation name="configureOutput" functionid="RCob8#_h?Ap!.+7A2/9p"></mutation><field name="function_name">configureOutput</field><statement name="STACK"><block type="i2c_writenumber" id="Fa$sjjoFG(zx`HfqkoOC"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="81A=1vTUa$fFwVgk^`nY"><field name="VAR" id="oK`/PI3KNMQ__t4M1Me[">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="U2C+2w/mT!cWp(HU},!s"><field name="VAR" id="[6Kg=kW,XUE.)f5N3Isu">CONFIGURATION_MODE</field></block></value><value name="repeat"><shadow type="logic_boolean" id="iR[oJ9Q=@fJeNcgYC6VC"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="WfVe@*~1_,f9y^b!9lFV"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 219. Set IO2 and IO5 as outputs, all other pins as inputs. 0=output, 1=input</comment><value name="address"><block type="variables_get" id="vn]9Sqj7Z%ZPd{dU-/dV"><field name="VAR" id="oK`/PI3KNMQ__t4M1Me[">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="iZr}}$5*tHj/M,qVz3;q"><field name="NUM">219</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="))mDrM-GRso)|FQ/zAQ]"><field name="BOOL">TRUE</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="2*-:Gs*^13}m.H+c37${" x="1726" y="0"><mutation name="turnOnLEDs" functionid="?#Zp@H[*[.]rII=,:hRs"></mutation><field name="function_name">turnOnLEDs</field><statement name="STACK"><block type="variables_set" id="(hs5i*9yigYzhA2%axFH"><field name="VAR" id="fg3w42Vr1zT=MVMeJ7KK">flipTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time_micros" id="JG)uq?*zj%p4VXbt~aV^"></block></value><next><block type="i2c_writenumber" id="twd/XkFcqpJS+p~R|/WE"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="#bpV@3:ZKx]o1A|3iBTS"><field name="VAR" id="oK`/PI3KNMQ__t4M1Me[">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="`A3R^U4J~O2Iiv~vBghI"><field name="VAR" id="4,2MS98QQL[h$]~kxxA^">OUTPUT_REGISTER</field></block></value><value name="repeat"><shadow type="logic_boolean" id="..6.$QSl=}79vPj~vw#N"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="t/QyNmQ=TL2Cd!g3X{;|"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 4. Set IO2 high and IO5 low, all other pins unchanged, (io7 io6 io5 io4 io3 io2 io1 io0)</comment><value name="address"><block type="variables_get" id="glxDngBjC^StlxKFtfPk"><field name="VAR" id="oK`/PI3KNMQ__t4M1Me[">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="FGu-|L97=!2)h#I]tg)?"><field name="NUM">4</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="Ue0~)$*Zcvb/V^9?u|YX"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></statement></block></xml>