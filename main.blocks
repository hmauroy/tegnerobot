<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</variable><variable id="q=M+P59}7QEZsGLo9d#O">CONFIGURATION_MODE</variable><variable id="MrIcH-dT#LsdsR=sRh)X">flipTime</variable><variable id=")~er3{-1*|kt8Nq*TK@M">OUTPUT_REGISTER</variable><variable id="PdD+J?(lPDfGTPjZGM)o">currentMillis</variable><variable id="b[;BFY2.jZyyaD(RRkdb">previousMillis</variable><variable id="UXJ]Q;GH+Ci:Ei{?bkTs">interval</variable><variable id="kID45]n`bd1c_F.s^I$]">led1_state</variable><variable id="TZsDy0h/basX*x*V4d|,">led2_state</variable><variable id="kG`tqeX?-M+$.._|9led">ledOnTime</variable><variable id="I=s;,rekD+Mw%f$FaU:M">delayTime</variable></variables><block type="pxt-on-start" id="Hha*!cBBXTEug8FH=0TP" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="{iDA*V^ctyVmAwY8]TH6"><field name="VAR" id="I=s;,rekD+Mw%f$FaU:M">delayTime</field><comment pinned="false" h="80" w="160">Measuring delay of transmissions.</comment><value name="VALUE"><shadow type="math_number" id="[wpa^}$QBC;Af+UcqGQ|"><field name="NUM">0</field></shadow></value><next><block type="basic_show_icon" id="f1+tTQ1yc2GwcY}pQ50T"><field name="i">IconNames.Heart</field><next><block type="setI2CPins" id="TjdS--~9,IFye3$vIglz"><field name="sdaPin">DigitalPin.P2</field><field name="sclPin">DigitalPin.P1</field><next><block type="variables_set" id="ef.]]uRQs8VYQf=t(hwu"><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field><comment pinned="false" h="80" w="160">Address of PCA9557 chip</comment><value name="VALUE"><shadow type="math_number" id="{t]8J+a6qc^ciL2MfO.!"><field name="NUM">24</field></shadow></value><next><block type="variables_set" id="52*y6lJ|QD|,|YHt[6U4"><field name="VAR" id="q=M+P59}7QEZsGLo9d#O">CONFIGURATION_MODE</field><comment pinned="false" h="80" w="160">Configuration register: which mode is pins operated at?</comment><value name="VALUE"><shadow type="math_number" id="+j~Od~Rx:;d5ePuDiMVx"><field name="NUM">3</field></shadow></value><next><block type="variables_set" id="z3Soae5bFR(ANz~(ApF."><field name="VAR" id=")~er3{-1*|kt8Nq*TK@M">OUTPUT_REGISTER</field><value name="VALUE"><shadow type="math_number" id="jN`(Yx*6xCiGKLh:@biQ"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="D.JrKm/9LFk3+$OyOck?"><field name="VAR" id="UXJ]Q;GH+Ci:Ei{?bkTs">interval</field><comment pinned="false" h="80" w="160">constants won't change:
interval at which to blink alternatingly (milliseconds)</comment><value name="VALUE"><shadow type="math_number" id="iH8q|8ro`4QWOb|AhrrI"><field name="NUM">500</field></shadow></value><next><block type="variables_set" id="8]x~3X@-]EI}QY$LQ$FP"><field name="VAR" id="kID45]n`bd1c_F.s^I$]">led1_state</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id=":_X!kv*oM-Ibj@5KVfke"><field name="BOOL">TRUE</field></block></value><next><block type="function_call" id="#CvP]#P)D.R)aIoq)k2:"><mutation name="configureOutput" functionid="BPt^{bsMwKR4,jqhnU%;"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="QAimUl8YQy~Z5.,yoW)3" x="471" y="0"><comment pinned="false" h="80" w="160">Loop: Alternates IO2 and IO5 on and off.</comment><statement name="HANDLER"><block type="variables_set" id="S5X.1Cf+oz/p73b~kUAL"><field name="VAR" id="PdD+J?(lPDfGTPjZGM)o">currentMillis</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="x*lvmGi9:Bc(qe9qqpM."></block></value><next><block type="controls_if" id="WlbrQM8yY]ou(e9$~NxM"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="HJZ^^UAJ:H*2pfLK0D1i"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="DkvxQ_-jKH%MnGGGcrS}"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="T]{[4M/,BpKPe=~`9yF~"><field name="VAR" id="PdD+J?(lPDfGTPjZGM)o">currentMillis</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="k(zm`,ck^p/~Iv.LFB+Q"><field name="VAR" id="b[;BFY2.jZyyaD(RRkdb">previousMillis</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=".p7SYXPVTF3HZ*UeQ(W["><field name="VAR" id="UXJ]Q;GH+Ci:Ei{?bkTs">interval</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="y,f_(la$mt$?Z}NL_Xxr"><field name="VAR" id="b[;BFY2.jZyyaD(RRkdb">previousMillis</field><comment pinned="false" h="80" w="160">save the last time you blinked the LED</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="@fbb*a[z^i,#{y6O-l;k"><field name="VAR" id="PdD+J?(lPDfGTPjZGM)o">currentMillis</field></block></value><next><block type="variables_set" id="xsfARVG4#coZ~FzL-wo."><field name="VAR" id="kID45]n`bd1c_F.s^I$]">led1_state</field><comment pinned="false" h="80" w="160">Flip led states</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="1!YpMDiV}4jNZ/H*%4mf"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="F8IE^{io{g,a`6f4+1yr"><field name="VAR" id="kID45]n`bd1c_F.s^I$]">led1_state</field></block></value></block></value><next><block type="variables_set" id="vn#eKhy3F]AbEO9ouP`z"><field name="VAR" id="TZsDy0h/basX*x*V4d|,">led2_state</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="nf|Kg*IZW^(s{~|*#Q]m"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="$*X.tjxXU4;XcA0%Eg53"><field name="VAR" id="TZsDy0h/basX*x*V4d|,">led2_state</field></block></value></block></value><next><block type="controls_if" id="TM_;t^[bv$hF(YITC1ea"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Turn off LEDs connected to IO2 and IO5</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="))wmj932z:!#ay*[_bvh"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="),wQwnq!!-Y?Ua,lK:67"><field name="VAR" id="kID45]n`bd1c_F.s^I$]">led1_state</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="aF%tcOF!P{t9bag4*6@a"><field name="BOOL">TRUE</field></block></value></block></value><statement name="DO0"><block type="function_call" id="u)5{ps88.CU/c=[.#Cf}"><mutation name="turnOffLEDs" functionid="pK;vB7d6c292%s4b(yL2"></mutation></block></statement><statement name="ELSE"><block type="variables_set" id="~m-8tYrD{8fzV$!ioXUW"><field name="VAR" id="kG`tqeX?-M+$.._|9led">ledOnTime</field><comment pinned="false" h="80" w="160">Record the time when LED turns ON</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="8G-Tyw=_Cn|_-.|{,D)z"></block></value><next><block type="function_call" id="y{kxcY`kWyK~,zS8Cnyw"><mutation name="turnOnLEDs" functionid="(r.dvjWeJO,%RU9uw=[o"></mutation><comment pinned="false" h="80" w="160">Turn on LEDs connected to IO2 and IO5</comment></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="(bi~mH=s9hFZjer2ac}_" x="1289" y="0"><mutation name="configureOutput" functionid="BPt^{bsMwKR4,jqhnU%;"></mutation><field name="function_name">configureOutput</field><comment pinned="false" h="80" w="160">will store last time LED was updated.</comment><statement name="STACK"><block type="i2c_writenumber" id="^cnd0?1mY_ChPAyeZ[gZ"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="pkBK9b#^,2xv@@ypIgwZ"><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="z9~`#};ik(Gn.Ur4%Oh$"><field name="VAR" id="q=M+P59}7QEZsGLo9d#O">CONFIGURATION_MODE</field></block></value><value name="repeat"><shadow type="logic_boolean" id="l*osi:4o1Oo#^rVGzrl7"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="[r:LjVx+,eRMf4d:={nu"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 219. Set IO2 and IO5 as outputs, all other pins as inputs. 0=output, 1=input</comment><value name="address"><block type="variables_get" id="lu2_cIL=:jtC4HvWbe3n"><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="H:cqFpbMI|~v$w*jy9}R"><field name="NUM">219</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="g)n]8ar_tl7F_*)k+zn2"><field name="BOOL">TRUE</field></shadow></value></block></next></block></statement></block><block type="function_definition" id=",FkiupL%4CDR60YdU@nc" x="1687" y="0"><mutation name="turnOffLEDs" functionid="pK;vB7d6c292%s4b(yL2"></mutation><field name="function_name">turnOffLEDs</field><statement name="STACK"><block type="variables_set" id="=yZ8O71GKv+P=Ef?r+oS"><field name="VAR" id="MrIcH-dT#LsdsR=sRh)X">flipTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time_micros" id="Ay|,cFmvkI[_it9yu9Z."></block></value><next><block type="i2c_writenumber" id="Gxo@72qAEIT~#S^D#WCm"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="j{$G@77tU1G94F|1y3/s"><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="MRrsoOSseQ+{zgG!g,N!"><field name="VAR" id=")~er3{-1*|kt8Nq*TK@M">OUTPUT_REGISTER</field></block></value><value name="repeat"><shadow type="logic_boolean" id="q}fkTEMOz^|Yz]O/b.*e"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="a~Jq@Wg3P!-BPsP/LEOh"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 32. Set IO2 low and IO5 high, all other pins unchanged, (io7 io6 io5 io4 io3 io2 io1 io0)</comment><value name="address"><block type="variables_get" id="v!}t^iZ^R#CAO~9Nq:d!"><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id="ShoaY@q?J}SXL/,TZaW{"><field name="NUM">32</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="O1e$_w}k{_Y^uFU7vrK%"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="._mdA=q[8TM`3/Q*pR~." x="0" y="712"><mutation name="turnOnLEDs" functionid="(r.dvjWeJO,%RU9uw=[o"></mutation><field name="function_name">turnOnLEDs</field><statement name="STACK"><block type="variables_set" id="`C/D9loq8Nn2=iy*MW0o"><field name="VAR" id="MrIcH-dT#LsdsR=sRh)X">flipTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_running_time_micros" id="AzKeX:2?@D_1h`.#b!0I"></block></value><next><block type="i2c_writenumber" id="JE74x!g-P-*0J]3o~iNZ"><field name="format">NumberFormat.UInt8BE</field><value name="address"><block type="variables_get" id="Sq+n=J+fi:TlQb:o$UBb"><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field></block></value><value name="value"><block type="variables_get" id="qAUj#y,IKq@jyMoNaQh7"><field name="VAR" id=")~er3{-1*|kt8Nq*TK@M">OUTPUT_REGISTER</field></block></value><value name="repeat"><shadow type="logic_boolean" id="4YE/KVM:L%uyFf`eCT]A"><field name="BOOL">FALSE</field></shadow></value><next><block type="i2c_writenumber" id="B)#dlh2j-[6ZqHa=NrmZ"><field name="format">NumberFormat.UInt8BE</field><comment pinned="false" h="80" w="160">Decimal 4. Set IO2 high and IO5 low, all other pins unchanged, (io7 io6 io5 io4 io3 io2 io1 io0)</comment><value name="address"><block type="variables_get" id="ok6H/jpf[L5]tm!*FSG."><field name="VAR" id="g_3PB?:l0R9+35j][kE?">PCA9557_ADDR</field></block></value><value name="value"><shadow type="math_number" id=".wNHmjWm95?(`9tF;;;q"><field name="NUM">4</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="=rWxFl(79zrv5yO$7$lS"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></statement></block></xml>