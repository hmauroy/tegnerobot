function sortSvgCurves(pathData) {
  // Create a deep copy to avoid modifying the original data
  const commands = JSON.parse(JSON.stringify(pathData));
  console.log("Hei");
  console.log(commands);

  // Separate move and curve commands
  const moveCommands = commands.filter((cmd) => cmd[0] === "M");
  const curveCommands = commands.filter((cmd) => cmd[0] === "C");

  // Sort curves to create a seamless path
  const sortedCommands = [];

  // Start with the first move command
  if (moveCommands.length > 0) {
    sortedCommands.push(moveCommands[0]);

    let currentEndPoint = [moveCommands[0][1], moveCommands[0][2]];

    while (curveCommands.length > 0) {
      // Find the index of the next curve that starts closest to the current endpoint
      const nextCurveIndex = curveCommands.findIndex(
        (curve) =>
          Math.abs(curve[1] - currentEndPoint[0]) < 0.1 &&
          Math.abs(curve[2] - currentEndPoint[1]) < 0.1
      );

      if (nextCurveIndex !== -1) {
        // Remove and add the matching curve
        const nextCurve = curveCommands.splice(nextCurveIndex, 1)[0];
        sortedCommands.push(nextCurve);

        // Update current endpoint to the end of this curve
        currentEndPoint = [nextCurve[5], nextCurve[6]];
      } else {
        // If no matching curve is found, add the next available curve
        if (curveCommands.length > 0) {
          const nextCurve = curveCommands.shift();
          sortedCommands.push(nextCurve);
          currentEndPoint = [nextCurve[5], nextCurve[6]];
        } else {
          break;
        }
      }
    }
  }

  // Add any remaining move or curve commands
  sortedCommands.push(...moveCommands.slice(1));
  sortedCommands.push(...curveCommands);

  return sortedCommands;
}

// Example usage
const inputPathData = [
  [
    "M",
    18.1,
    0.3,
    "C",
    18.1,
    0.5,
    18.2,
    1.1,
    18.3,
    1.6,
    "C",
    18.4,
    2.1,
    18.5,
    3,
    18.6,
    3.5,
    "C",
    18.7,
    4,
    18.7,
    4.5,
    18.7,
    4.6,
    "C",
    18.6,
    4.7,
    18.1,
    4.9,
    17.6,
    5.1,
    "C",
    16,
    5.6,
    14.8,
    6.3,
    13.4,
    7.6,
    "C",
    10.4,
    10.5,
    8.4,
    14.7,
    7,
    21.4,
    "C",
    6.7,
    22.8,
    6.4,
    24.7,
    6.3,
    27,
    "C",
    6.2,
    28.4,
    6.1,
    29.7,
    6.1,
    29.8,
    "C",
    6,
    30,
    5.4,
    30,
    3.5,
    30,
    "C",
    2.1,
    30,
    0.7,
    30,
    0.5,
    30.1,
    "C",
    0,
    30.2,
    0,
    30.2,
    0,
    31.1,
    "L",
    0,
    32.1,
    3,
    32.1,
    "L",
    6.1,
    32.1,
    6.2,
    33.8,
    "C",
    6.3,
    35.8,
    6.7,
    39.4,
    6.9,
    40.2,
    "C",
    7,
    40.6,
    7.1,
    41.3,
    7.2,
    41.8,
    "C",
    8.6,
    48.6,
    11.4,
    54.6,
    14.8,
    58.1,
    "C",
    16.9,
    60.2,
    18.8,
    61.2,
    21.4,
    61.5,
    "C",
    22.1,
    61.7,
    23.4,
    61.8,
    24.2,
    62,
    "L",
    25.8,
    62.2,
    27.2,
    64.9,
    "C",
    29.2,
    68.7,
    28.9,
    68.3,
    30.2,
    68.3,
    "C",
    30.9,
    68.3,
    31.4,
    68.3,
    31.4,
    68.2,
    "C",
    31.4,
    68.2,
    31,
    67.5,
    30.5,
    66.6,
    "C",
    29.4,
    64.9,
    28.4,
    62.8,
    28.5,
    62.7,
    "C",
    28.5,
    62.7,
    29.3,
    62.7,
    30.2,
    62.8,
    "C",
    32.2,
    63,
    33.3,
    62.9,
    34.8,
    62.1,
    "C",
    39.1,
    60.1,
    42.4,
    54.9,
    44.1,
    47.6,
    "C",
    45,
    43.9,
    45.3,
    42.2,
    45.6,
    38.1,
    "C",
    45.8,
    34.3,
    45.4,
    28.5,
    44.8,
    25.2,
    "C",
    44.7,
    24.7,
    44.5,
    24,
    44.4,
    23.5,
    "C",
    43.2,
    17.5,
    41,
    12,
    38.1,
    8.2,
    "C",
    35.6,
    4.8,
    32.7,
    2.8,
    29.5,
    2.4,
    "C",
    28.3,
    2.3,
    28.1,
    2.3,
    26.4,
    2.7,
    "C",
    25.4,
    2.9,
    23.9,
    3.3,
    23.1,
    3.5,
    "C",
    22.3,
    3.7,
    21.7,
    3.9,
    21.6,
    3.8,
    "C",
    21.6,
    3.8,
    22.1,
    1.3,
    22.4,
    0.3,
    "C",
    22.5,
    0,
    22.3,
    0,
    20.2,
    0,
    "L",
    18,
    0,
    18.1,
    0.3,
  ],
  [
    "M",
    54.3,
    1,
    "C",
    51.9,
    9.3,
    50.5,
    22.5,
    51.1,
    31.4,
    "C",
    51.6,
    40.2,
    52.4,
    45.1,
    54.6,
    52.7,
    "C",
    55.9,
    57.5,
    57.4,
    61.5,
    59.5,
    65.7,
    "L",
    60.8,
    68.3,
    62,
    68.3,
    "L",
    63.2,
    68.3,
    62.3,
    66.7,
    "C",
    59.3,
    61.2,
    56.3,
    52.6,
    54.9,
    45.8,
    "C",
    52.5,
    33.3,
    52.3,
    22.2,
    54.5,
    9.5,
    "C",
    55,
    6.7,
    55.7,
    3.6,
    56.3,
    1.6,
    "L",
    56.7,
    0,
    55.7,
    0,
    "L",
    54.6,
    0,
    54.3,
    1,
  ],
  [
    "M",
    68.2,
    1.5,
    "C",
    66.9,
    5.8,
    66.1,
    9.5,
    65.2,
    15,
    "C",
    64.5,
    19.9,
    64.3,
    29,
    64.8,
    33.8,
    "C",
    66.2,
    47.1,
    69.8,
    57.5,
    76.3,
    67.3,
    "L",
    77,
    68.3,
    78.3,
    68.3,
    "L",
    79.6,
    68.3,
    78.9,
    67.4,
    "C",
    74.3,
    61,
    70.6,
    53,
    68.7,
    44.7,
    "C",
    68.6,
    44.1,
    68.3,
    43.2,
    68.2,
    42.7,
    "C",
    67,
    37.3,
    66.3,
    28.9,
    66.6,
    22.8,
    "C",
    66.8,
    19.8,
    67.1,
    16.2,
    67.3,
    14.8,
    "C",
    67.3,
    14.6,
    67.4,
    13.9,
    67.5,
    13.3,
    "C",
    67.7,
    12.3,
    68.2,
    9.8,
    68.5,
    8.4,
    "C",
    68.9,
    6.5,
    70.3,
    1.4,
    70.7,
    0.3,
    "C",
    70.8,
    0,
    70.7,
    0,
    69.7,
    0,
    "L",
    68.6,
    0,
    68.2,
    1.5,
  ],
  [
    "M",
    83.4,
    0.1,
    "C",
    83.4,
    0.2,
    83.3,
    0.9,
    83.2,
    1.7,
    "C",
    82.9,
    3.4,
    82.9,
    5,
    83.1,
    6.2,
    "C",
    83.6,
    9.2,
    84.8,
    10.9,
    86.9,
    11.5,
    "C",
    88.1,
    11.8,
    88.7,
    11.7,
    89.9,
    11.4,
    "C",
    91.7,
    10.8,
    93.1,
    9.5,
    96.3,
    5.4,
    "C",
    97,
    4.5,
    98.1,
    3.1,
    98.8,
    2.3,
    "C",
    99.7,
    1.2,
    100,
    0.8,
    100,
    0.5,
    "L",
    100,
    0,
    99,
    0,
    "C",
    98.1,
    0,
    98,
    0,
    97.5,
    0.6,
    "C",
    97,
    1.2,
    94.9,
    3.8,
    92.9,
    6.3,
    "C",
    91.5,
    8.1,
    90.3,
    9.1,
    89.1,
    9.5,
    "C",
    88.4,
    9.7,
    88.3,
    9.7,
    87.5,
    9.5,
    "C",
    85.2,
    8.8,
    84.4,
    5.6,
    85.3,
    0.6,
    "L",
    85.4,
    0,
    84.4,
    0,
    "C",
    83.8,
    0,
    83.4,
    0.1,
    83.4,
    0.1,
  ],
  [
    "M",
    30.5,
    4.7,
    "C",
    32.7,
    5.4,
    35.4,
    7.7,
    37.2,
    10.5,
    "C",
    38.9,
    13,
    40.9,
    17.5,
    41.5,
    20.2,
    "C",
    41.6,
    20.5,
    41.8,
    21.1,
    41.9,
    21.6,
    "C",
    42.4,
    23.2,
    42.8,
    25.4,
    43.2,
    28.3,
    "C",
    43.6,
    31.1,
    43.6,
    39.3,
    43.2,
    42,
    "C",
    41.9,
    51.3,
    38.5,
    58,
    34.1,
    60.2,
    "C",
    32.6,
    60.9,
    31.9,
    61,
    29.4,
    60.6,
    "C",
    28.2,
    60.5,
    27.2,
    60.3,
    27.1,
    60.3,
    "C",
    27.1,
    60.2,
    27.7,
    59.5,
    28.6,
    58.7,
    "C",
    31.3,
    55.9,
    33.2,
    52,
    34.4,
    46.9,
    "C",
    35.3,
    43.3,
    35.7,
    39.8,
    35.7,
    35.6,
    "C",
    35.7,
    25.3,
    32.9,
    15.5,
    28.4,
    9.8,
    "C",
    27.2,
    8.4,
    25.4,
    6.7,
    24.4,
    6.2,
    "C",
    24,
    6,
    23.7,
    5.7,
    23.7,
    5.6,
    "C",
    23.8,
    5.5,
    24.6,
    5.2,
    25.6,
    5,
    "C",
    27.7,
    4.4,
    29.3,
    4.3,
    30.5,
    4.7,
  ],
  [
    "M",
    21.9,
    7.2,
    "C",
    25.3,
    8.5,
    28.5,
    12.5,
    30.7,
    18.3,
    "C",
    31.8,
    21.1,
    32.9,
    25.9,
    33.4,
    29.7,
    "C",
    33.7,
    31.8,
    33.7,
    39.1,
    33.4,
    41.2,
    "C",
    32.8,
    45.9,
    31.6,
    50.1,
    30.1,
    53.1,
    "C",
    28.5,
    56.1,
    26.9,
    57.9,
    24.8,
    58.9,
    "C",
    23.7,
    59.4,
    23.6,
    59.5,
    22.1,
    59.5,
    "C",
    20.7,
    59.4,
    20.4,
    59.4,
    19.5,
    59,
    "C",
    16.3,
    57.5,
    13.4,
    53.7,
    11.3,
    48.5,
    "C",
    6.5,
    36.1,
    7.3,
    19.2,
    13.2,
    10.9,
    "C",
    14.7,
    8.8,
    16.9,
    7.2,
    18.7,
    6.9,
    "C",
    19.6,
    6.7,
    21,
    6.9,
    21.9,
    7.2,
  ],
  [
    "M",
    19.2,
    15.8,
    "C",
    17,
    16.4,
    15.1,
    19.4,
    14.2,
    23.6,
    "C",
    13.7,
    26,
    13.6,
    26.9,
    13.6,
    30.9,
    "C",
    13.6,
    35.1,
    13.7,
    36.1,
    14.2,
    38.8,
    "C",
    15.1,
    43.4,
    16.9,
    47.2,
    18.8,
    48.8,
    "C",
    21.5,
    51.1,
    24.7,
    50,
    26.3,
    46.2,
    "C",
    27.1,
    44.4,
    27.6,
    42.9,
    27.9,
    40.8,
    "C",
    29.1,
    34,
    28.1,
    25.7,
    25.5,
    20.4,
    "C",
    24.5,
    18.4,
    23.2,
    16.8,
    22,
    16.2,
    "C",
    21.2,
    15.8,
    19.9,
    15.6,
    19.2,
    15.8,
  ],
  [
    "M",
    79.7,
    16.3,
    "C",
    78.1,
    16.7,
    76.9,
    17.4,
    75.6,
    18.7,
    "C",
    71.5,
    22.6,
    71.3,
    28.2,
    75.2,
    32.3,
    "C",
    77,
    34.2,
    79,
    35.2,
    81.5,
    35.3,
    "C",
    86.1,
    35.6,
    90.4,
    32.4,
    91.6,
    27.8,
    "C",
    92.1,
    25.8,
    91.8,
    23.3,
    90.7,
    21.1,
    "C",
    89.9,
    19.6,
    88.2,
    17.8,
    86.8,
    17.1,
    "C",
    84.7,
    16,
    82,
    15.7,
    79.7,
    16.3,
  ],
  [
    "M",
    21.3,
    18.2,
    "C",
    22.9,
    19.3,
    24.8,
    23.2,
    25.6,
    27.1,
    "C",
    26.7,
    32.8,
    26.5,
    39.7,
    25.1,
    43.7,
    "C",
    24.5,
    45.5,
    23.5,
    47.2,
    22.6,
    47.7,
    "C",
    20.5,
    49.2,
    17.6,
    45.1,
    16.3,
    38.7,
    "C",
    15.7,
    35.6,
    15.6,
    34.9,
    15.6,
    30.9,
    "C",
    15.6,
    27.8,
    15.7,
    26.7,
    15.9,
    25.5,
    "C",
    16.6,
    21.4,
    17.8,
    18.9,
    19.3,
    18,
    "C",
    19.9,
    17.6,
    20.6,
    17.7,
    21.3,
    18.2,
  ],
  [
    "M",
    84.1,
    18.2,
    "C",
    86.9,
    19,
    89,
    21.3,
    89.7,
    24.5,
    "C",
    90,
    26,
    89.8,
    27.4,
    89.1,
    28.9,
    "C",
    88.1,
    30.8,
    85.9,
    32.6,
    83.8,
    33.2,
    "C",
    80.5,
    34.1,
    76.8,
    32.2,
    75.2,
    28.8,
    "C",
    74.5,
    27.5,
    74.5,
    27.4,
    74.5,
    25.7,
    "C",
    74.5,
    24,
    74.6,
    23.9,
    75,
    22.9,
    "C",
    76.1,
    20.6,
    77.8,
    19.1,
    80.1,
    18.3,
    "C",
    81,
    18,
    83,
    17.9,
    84.1,
    18.2,
  ],
];

const sortedPathData = sortSvgCurves(inputPathData);
//console.log(JSON.stringify(sortedPathData, null, 2));
